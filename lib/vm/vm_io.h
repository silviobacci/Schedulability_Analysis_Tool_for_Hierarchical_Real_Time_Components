#ifndef VM_IO_H
#define VM_IO_H

#include <vm/structs/cpu.h>
#include <vm/structs/vm.h>

//------------------------------------------------------------------------------
// FUNCTIONS
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// PRINT VM: prints info about the vm
//------------------------------------------------------------------------------

void print_vm(vm *v, FILE *f);

//------------------------------------------------------------------------------
// PRINT VM LOAD: prints info about the taskset allocated to the vm
//------------------------------------------------------------------------------

void print_vm_load(vm *v, FILE *f);

//------------------------------------------------------------------------------
// CREATE EMPTY VM: allocate the memoery for an empty vm
//------------------------------------------------------------------------------

vm * create_empty_vm();

//------------------------------------------------------------------------------
// LOAD VM: load the vm from the given file
//------------------------------------------------------------------------------

vm * load_vm(FILE *f, int ps_present);

//------------------------------------------------------------------------------
// IS PS IN FILE: return 1 if a server is specified in the file, 0 otherwise
//------------------------------------------------------------------------------

int is_ps_in_file(FILE *f, char * filename);

#endif
